{"ast":null,"code":"import { Action, InputType } from '../core-actions/Action';\nimport * as _ from 'lodash';\n/**\n * Deletes all selected items\n */\nexport class DeleteItemsAction extends Action {\n  constructor(options = {}) {\n    const keyCodes = options.keyCodes || [46, 8];\n    const modifiers = Object.assign({\n      ctrlKey: false,\n      shiftKey: false,\n      altKey: false,\n      metaKey: false\n    }, options.modifiers);\n    super({\n      type: InputType.KEY_DOWN,\n      fire: event => {\n        const {\n          keyCode,\n          ctrlKey,\n          shiftKey,\n          altKey,\n          metaKey\n        } = event.event;\n        if (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({\n          ctrlKey,\n          shiftKey,\n          altKey,\n          metaKey\n        }, modifiers)) {\n          _.forEach(this.engine.getModel().getSelectedEntities(), model => {\n            // only delete items which are not locked\n            if (!model.isLocked()) {\n              model.remove();\n            }\n          });\n          this.engine.repaintCanvas();\n        }\n      }\n    });\n  }\n}","map":{"version":3,"names":["Action","InputType","_","DeleteItemsAction","constructor","options","keyCodes","modifiers","Object","assign","ctrlKey","shiftKey","altKey","metaKey","type","KEY_DOWN","fire","event","keyCode","indexOf","isEqual","forEach","engine","getModel","getSelectedEntities","model","isLocked","remove","repaintCanvas"],"sources":["C:\\Users\\samir\\Diagram gen\\diagram-sami\\node_modules\\@projectstorm\\react-canvas-core\\src\\actions\\DeleteItemsAction.ts"],"sourcesContent":["import { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { KeyboardEvent } from 'react';\nimport * as _ from 'lodash';\n\nexport interface DeleteItemsActionOptions {\n\tkeyCodes?: number[];\n\tmodifiers?: {\n\t\tctrlKey?: boolean;\n\t\tshiftKey?: boolean;\n\t\taltKey?: boolean;\n\t\tmetaKey?: boolean;\n\t};\n}\n\n/**\n * Deletes all selected items\n */\nexport class DeleteItemsAction extends Action {\n\tconstructor(options: DeleteItemsActionOptions = {}) {\n\t\tconst keyCodes = options.keyCodes || [46, 8];\n\t\tconst modifiers = {\n\t\t\tctrlKey: false,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tmetaKey: false,\n\t\t\t...options.modifiers\n\t\t};\n\n\t\tsuper({\n\t\t\ttype: InputType.KEY_DOWN,\n\t\t\tfire: (event: ActionEvent<KeyboardEvent>) => {\n\t\t\t\tconst { keyCode, ctrlKey, shiftKey, altKey, metaKey } = event.event;\n\n\t\t\t\tif (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({ ctrlKey, shiftKey, altKey, metaKey }, modifiers)) {\n\t\t\t\t\t_.forEach(this.engine.getModel().getSelectedEntities(), (model) => {\n\t\t\t\t\t\t// only delete items which are not locked\n\t\t\t\t\t\tif (!model.isLocked()) {\n\t\t\t\t\t\t\tmodel.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"AAAA,SAASA,MAAM,EAAeC,SAAS,QAAQ,wBAAwB;AAEvE,OAAO,KAAKC,CAAC,MAAM,QAAQ;AAY3B;;;AAGA,OAAM,MAAOC,iBAAkB,SAAQH,MAAM;EAC5CI,YAAYC,OAAA,GAAoC,EAAE;IACjD,MAAMC,QAAQ,GAAGD,OAAO,CAACC,QAAQ,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5C,MAAMC,SAAS,GAAAC,MAAA,CAAAC,MAAA;MACdC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE,KAAK;MACfC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;IAAK,GACXR,OAAO,CAACE,SAAS,CACpB;IAED,KAAK,CAAC;MACLO,IAAI,EAAEb,SAAS,CAACc,QAAQ;MACxBC,IAAI,EAAGC,KAAiC,IAAI;QAC3C,MAAM;UAAEC,OAAO;UAAER,OAAO;UAAEC,QAAQ;UAAEC,MAAM;UAAEC;QAAO,CAAE,GAAGI,KAAK,CAACA,KAAK;QAEnE,IAAIX,QAAQ,CAACa,OAAO,CAACD,OAAO,CAAC,KAAK,CAAC,CAAC,IAAIhB,CAAC,CAACkB,OAAO,CAAC;UAAEV,OAAO;UAAEC,QAAQ;UAAEC,MAAM;UAAEC;QAAO,CAAE,EAAEN,SAAS,CAAC,EAAE;UACrGL,CAAC,CAACmB,OAAO,CAAC,IAAI,CAACC,MAAM,CAACC,QAAQ,EAAE,CAACC,mBAAmB,EAAE,EAAGC,KAAK,IAAI;YACjE;YACA,IAAI,CAACA,KAAK,CAACC,QAAQ,EAAE,EAAE;cACtBD,KAAK,CAACE,MAAM,EAAE;;UAEhB,CAAC,CAAC;UACF,IAAI,CAACL,MAAM,CAACM,aAAa,EAAE;;MAE7B;KACA,CAAC;EACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}