{"ast":null,"code":"import { LayerModel } from '@projectstorm/react-canvas-core';\nimport { NodeModel } from '../node/NodeModel';\nexport class NodeLayerModel extends LayerModel {\n  constructor() {\n    super({\n      type: 'diagram-nodes',\n      isSvg: false,\n      transformed: true\n    });\n  }\n  addModel(model) {\n    if (!(model instanceof NodeModel)) {\n      throw new Error('Can only add nodes to this layer');\n    }\n    model.registerListener({\n      entityRemoved: () => {\n        this.getParent().removeNode(model);\n      }\n    });\n    super.addModel(model);\n  }\n  getChildModelFactoryBank(engine) {\n    return engine.getNodeFactories();\n  }\n  getNodes() {\n    return this.getModels();\n  }\n}","map":{"version":3,"names":["LayerModel","NodeModel","NodeLayerModel","constructor","type","isSvg","transformed","addModel","model","Error","registerListener","entityRemoved","getParent","removeNode","getChildModelFactoryBank","engine","getNodeFactories","getNodes","getModels"],"sources":["C:\\Users\\samir\\Diagram gen\\diagram-sami\\node_modules\\@projectstorm\\react-diagrams-core\\src\\entities\\node-layer\\NodeLayerModel.ts"],"sourcesContent":["import { LayerModel, LayerModelGenerics } from '@projectstorm/react-canvas-core';\nimport { NodeModel } from '../node/NodeModel';\nimport { DiagramEngine } from '../../DiagramEngine';\nimport { DiagramModel } from '../../models/DiagramModel';\n\nexport interface NodeLayerModelGenerics extends LayerModelGenerics {\n\tCHILDREN: NodeModel;\n\tENGINE: DiagramEngine;\n}\n\nexport class NodeLayerModel<G extends NodeLayerModelGenerics = NodeLayerModelGenerics> extends LayerModel<G> {\n\tconstructor() {\n\t\tsuper({\n\t\t\ttype: 'diagram-nodes',\n\t\t\tisSvg: false,\n\t\t\ttransformed: true\n\t\t});\n\t}\n\n\taddModel(model: G['CHILDREN']): void {\n\t\tif (!(model instanceof NodeModel)) {\n\t\t\tthrow new Error('Can only add nodes to this layer');\n\t\t}\n\t\tmodel.registerListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\t(this.getParent() as DiagramModel).removeNode(model);\n\t\t\t}\n\t\t});\n\t\tsuper.addModel(model);\n\t}\n\n\tgetChildModelFactoryBank(engine: G['ENGINE']) {\n\t\treturn engine.getNodeFactories();\n\t}\n\n\tgetNodes() {\n\t\treturn this.getModels();\n\t}\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAA4B,iCAAiC;AAChF,SAASC,SAAS,QAAQ,mBAAmB;AAS7C,OAAM,MAAOC,cAA0E,SAAQF,UAAa;EAC3GG,YAAA;IACC,KAAK,CAAC;MACLC,IAAI,EAAE,eAAe;MACrBC,KAAK,EAAE,KAAK;MACZC,WAAW,EAAE;KACb,CAAC;EACH;EAEAC,QAAQA,CAACC,KAAoB;IAC5B,IAAI,EAAEA,KAAK,YAAYP,SAAS,CAAC,EAAE;MAClC,MAAM,IAAIQ,KAAK,CAAC,kCAAkC,CAAC;;IAEpDD,KAAK,CAACE,gBAAgB,CAAC;MACtBC,aAAa,EAAEA,CAAA,KAAK;QAClB,IAAI,CAACC,SAAS,EAAmB,CAACC,UAAU,CAACL,KAAK,CAAC;MACrD;KACA,CAAC;IACF,KAAK,CAACD,QAAQ,CAACC,KAAK,CAAC;EACtB;EAEAM,wBAAwBA,CAACC,MAAmB;IAC3C,OAAOA,MAAM,CAACC,gBAAgB,EAAE;EACjC;EAEAC,QAAQA,CAAA;IACP,OAAO,IAAI,CAACC,SAAS,EAAE;EACxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}