{"ast":null,"code":"import { BaseEntity } from './BaseEntity';\nimport { CanvasModel } from '../entities/canvas/CanvasModel';\nexport class BaseModel extends BaseEntity {\n  constructor(options) {\n    super(options);\n  }\n  performanceTune() {\n    return true;\n  }\n  getParentCanvasModel() {\n    if (!this.parent) {\n      return null;\n    }\n    if (this.parent instanceof CanvasModel) {\n      return this.parent;\n    } else if (this.parent instanceof BaseModel) {\n      return this.parent.getParentCanvasModel();\n    }\n    return null;\n  }\n  getParent() {\n    return this.parent;\n  }\n  setParent(parent) {\n    this.parent = parent;\n  }\n  getSelectionEntities() {\n    return [this];\n  }\n  serialize() {\n    return Object.assign(Object.assign({}, super.serialize()), {\n      type: this.options.type,\n      selected: this.options.selected,\n      extras: this.options.extras\n    });\n  }\n  deserialize(event) {\n    super.deserialize(event);\n    this.options.extras = event.data.extras;\n    this.options.selected = event.data.selected;\n  }\n  getType() {\n    return this.options.type;\n  }\n  isSelected() {\n    return this.options.selected;\n  }\n  isLocked() {\n    const locked = super.isLocked();\n    if (locked) {\n      return true;\n    }\n    // delegate this call up to the parent\n    if (this.parent) {\n      return this.parent.isLocked();\n    }\n    return false;\n  }\n  setSelected(selected = true) {\n    if (this.options.selected !== selected) {\n      this.options.selected = selected;\n      this.fireEvent({\n        isSelected: selected\n      }, 'selectionChanged');\n    }\n  }\n  remove() {\n    this.fireEvent({}, 'entityRemoved');\n  }\n}","map":{"version":3,"names":["BaseEntity","CanvasModel","BaseModel","constructor","options","performanceTune","getParentCanvasModel","parent","getParent","setParent","getSelectionEntities","serialize","Object","assign","type","selected","extras","deserialize","event","data","getType","isSelected","isLocked","locked","setSelected","fireEvent","remove"],"sources":["C:\\Users\\samir\\Diagram gen\\diagram-sami\\node_modules\\@projectstorm\\react-canvas-core\\src\\core-models\\BaseModel.ts"],"sourcesContent":["import {\n\tBaseEntity,\n\tBaseEntityEvent,\n\tBaseEntityGenerics,\n\tBaseEntityListener,\n\tBaseEntityOptions,\n\tDeserializeEvent\n} from './BaseEntity';\nimport { CanvasModel } from '../entities/canvas/CanvasModel';\n\nexport interface BaseModelListener extends BaseEntityListener {\n\tselectionChanged?(event: BaseEntityEvent<BaseModel> & { isSelected: boolean }): void;\n\n\tentityRemoved?(event: BaseEntityEvent<BaseModel>): void;\n}\n\nexport interface BaseModelOptions extends BaseEntityOptions {\n\ttype?: string;\n\tselected?: boolean;\n\textras?: any;\n}\n\nexport interface BaseModelGenerics extends BaseEntityGenerics {\n\tLISTENER: BaseModelListener;\n\tPARENT: BaseEntity;\n\tOPTIONS: BaseModelOptions;\n}\n\nexport class BaseModel<G extends BaseModelGenerics = BaseModelGenerics> extends BaseEntity<G> {\n\tprotected parent: G['PARENT'];\n\n\tconstructor(options: G['OPTIONS']) {\n\t\tsuper(options);\n\t}\n\n\tperformanceTune() {\n\t\treturn true;\n\t}\n\n\tgetParentCanvasModel(): CanvasModel {\n\t\tif (!this.parent) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.parent instanceof CanvasModel) {\n\t\t\treturn this.parent;\n\t\t} else if (this.parent instanceof BaseModel) {\n\t\t\treturn this.parent.getParentCanvasModel();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetParent(): G['PARENT'] {\n\t\treturn this.parent;\n\t}\n\n\tsetParent(parent: G['PARENT']) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetSelectionEntities(): Array<BaseModel> {\n\t\treturn [this];\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\ttype: this.options.type,\n\t\t\tselected: this.options.selected,\n\t\t\textras: this.options.extras\n\t\t};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.extras = event.data.extras;\n\t\tthis.options.selected = event.data.selected;\n\t}\n\n\tgetType(): string {\n\t\treturn this.options.type;\n\t}\n\n\tisSelected(): boolean {\n\t\treturn this.options.selected;\n\t}\n\n\tisLocked(): boolean {\n\t\tconst locked = super.isLocked();\n\t\tif (locked) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// delegate this call up to the parent\n\t\tif (this.parent) {\n\t\t\treturn this.parent.isLocked();\n\t\t}\n\t\treturn false;\n\t}\n\n\tsetSelected(selected: boolean = true) {\n\t\tif (this.options.selected !== selected) {\n\t\t\tthis.options.selected = selected;\n\n\t\t\tthis.fireEvent(\n\t\t\t\t{\n\t\t\t\t\tisSelected: selected\n\t\t\t\t},\n\t\t\t\t'selectionChanged'\n\t\t\t);\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.fireEvent({}, 'entityRemoved');\n\t}\n}\n"],"mappings":"AAAA,SACCA,UAAU,QAMJ,cAAc;AACrB,SAASC,WAAW,QAAQ,gCAAgC;AAoB5D,OAAM,MAAOC,SAA2D,SAAQF,UAAa;EAG5FG,YAAYC,OAAqB;IAChC,KAAK,CAACA,OAAO,CAAC;EACf;EAEAC,eAAeA,CAAA;IACd,OAAO,IAAI;EACZ;EAEAC,oBAAoBA,CAAA;IACnB,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;MACjB,OAAO,IAAI;;IAEZ,IAAI,IAAI,CAACA,MAAM,YAAYN,WAAW,EAAE;MACvC,OAAO,IAAI,CAACM,MAAM;KAClB,MAAM,IAAI,IAAI,CAACA,MAAM,YAAYL,SAAS,EAAE;MAC5C,OAAO,IAAI,CAACK,MAAM,CAACD,oBAAoB,EAAE;;IAE1C,OAAO,IAAI;EACZ;EAEAE,SAASA,CAAA;IACR,OAAO,IAAI,CAACD,MAAM;EACnB;EAEAE,SAASA,CAACF,MAAmB;IAC5B,IAAI,CAACA,MAAM,GAAGA,MAAM;EACrB;EAEAG,oBAAoBA,CAAA;IACnB,OAAO,CAAC,IAAI,CAAC;EACd;EAEAC,SAASA,CAAA;IACR,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACI,KAAK,CAACF,SAAS,EAAE;MACpBG,IAAI,EAAE,IAAI,CAACV,OAAO,CAACU,IAAI;MACvBC,QAAQ,EAAE,IAAI,CAACX,OAAO,CAACW,QAAQ;MAC/BC,MAAM,EAAE,IAAI,CAACZ,OAAO,CAACY;IAAM;EAE7B;EAEAC,WAAWA,CAACC,KAA6B;IACxC,KAAK,CAACD,WAAW,CAACC,KAAK,CAAC;IACxB,IAAI,CAACd,OAAO,CAACY,MAAM,GAAGE,KAAK,CAACC,IAAI,CAACH,MAAM;IACvC,IAAI,CAACZ,OAAO,CAACW,QAAQ,GAAGG,KAAK,CAACC,IAAI,CAACJ,QAAQ;EAC5C;EAEAK,OAAOA,CAAA;IACN,OAAO,IAAI,CAAChB,OAAO,CAACU,IAAI;EACzB;EAEAO,UAAUA,CAAA;IACT,OAAO,IAAI,CAACjB,OAAO,CAACW,QAAQ;EAC7B;EAEAO,QAAQA,CAAA;IACP,MAAMC,MAAM,GAAG,KAAK,CAACD,QAAQ,EAAE;IAC/B,IAAIC,MAAM,EAAE;MACX,OAAO,IAAI;;IAGZ;IACA,IAAI,IAAI,CAAChB,MAAM,EAAE;MAChB,OAAO,IAAI,CAACA,MAAM,CAACe,QAAQ,EAAE;;IAE9B,OAAO,KAAK;EACb;EAEAE,WAAWA,CAACT,QAAA,GAAoB,IAAI;IACnC,IAAI,IAAI,CAACX,OAAO,CAACW,QAAQ,KAAKA,QAAQ,EAAE;MACvC,IAAI,CAACX,OAAO,CAACW,QAAQ,GAAGA,QAAQ;MAEhC,IAAI,CAACU,SAAS,CACb;QACCJ,UAAU,EAAEN;OACZ,EACD,kBAAkB,CAClB;;EAEH;EAEAW,MAAMA,CAAA;IACL,IAAI,CAACD,SAAS,CAAC,EAAE,EAAE,eAAe,CAAC;EACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}