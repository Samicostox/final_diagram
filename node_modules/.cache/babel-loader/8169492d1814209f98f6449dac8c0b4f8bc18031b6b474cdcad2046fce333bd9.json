{"ast":null,"code":"import { DefaultLinkModel } from '@projectstorm/react-diagrams-defaults';\nimport { RightAngleLinkFactory } from './RightAngleLinkFactory';\nexport class RightAngleLinkModel extends DefaultLinkModel {\n  constructor(options = {}) {\n    super(Object.assign({\n      type: RightAngleLinkFactory.NAME\n    }, options));\n    this.lastHoverIndexOfPath = 0;\n    this._lastPathXdirection = false;\n    this._firstPathXdirection = false;\n  }\n  setFirstAndLastPathsDirection() {\n    let points = this.getPoints();\n    for (let i = 1; i < points.length; i += points.length - 2) {\n      let dx = Math.abs(points[i].getX() - points[i - 1].getX());\n      let dy = Math.abs(points[i].getY() - points[i - 1].getY());\n      if (i - 1 === 0) {\n        this._firstPathXdirection = dx > dy;\n      } else {\n        this._lastPathXdirection = dx > dy;\n      }\n    }\n  }\n  // @ts-ignore\n  addPoint(pointModel, index = 1) {\n    // @ts-ignore\n    super.addPoint(pointModel, index);\n    this.setFirstAndLastPathsDirection();\n    return pointModel;\n  }\n  deserialize(event) {\n    super.deserialize(event);\n    this.setFirstAndLastPathsDirection();\n  }\n  setManuallyFirstAndLastPathsDirection(first, last) {\n    this._firstPathXdirection = first;\n    this._lastPathXdirection = last;\n  }\n  getLastPathXdirection() {\n    return this._lastPathXdirection;\n  }\n  getFirstPathXdirection() {\n    return this._firstPathXdirection;\n  }\n  setWidth(width) {\n    this.options.width = width;\n    this.fireEvent({\n      width\n    }, 'widthChanged');\n  }\n  setColor(color) {\n    this.options.color = color;\n    this.fireEvent({\n      color\n    }, 'colorChanged');\n  }\n}","map":{"version":3,"names":["DefaultLinkModel","RightAngleLinkFactory","RightAngleLinkModel","constructor","options","Object","assign","type","NAME","lastHoverIndexOfPath","_lastPathXdirection","_firstPathXdirection","setFirstAndLastPathsDirection","points","getPoints","i","length","dx","Math","abs","getX","dy","getY","addPoint","pointModel","index","deserialize","event","setManuallyFirstAndLastPathsDirection","first","last","getLastPathXdirection","getFirstPathXdirection","setWidth","width","fireEvent","setColor","color"],"sources":["C:\\Users\\samir\\Diagram gen\\diagram-sami\\node_modules\\@projectstorm\\react-diagrams-routing\\src\\link\\RightAngleLinkModel.ts"],"sourcesContent":["import { DefaultLinkModel, DefaultLinkModelOptions } from '@projectstorm/react-diagrams-defaults';\nimport { RightAngleLinkFactory } from './RightAngleLinkFactory';\nimport { PointModel } from '@projectstorm/react-diagrams-core';\nimport { DeserializeEvent } from '@projectstorm/react-canvas-core';\n\nexport class RightAngleLinkModel extends DefaultLinkModel {\n\tlastHoverIndexOfPath: number;\n\tprivate _lastPathXdirection: boolean;\n\tprivate _firstPathXdirection: boolean;\n\tconstructor(options: DefaultLinkModelOptions = {}) {\n\t\tsuper({\n\t\t\ttype: RightAngleLinkFactory.NAME,\n\t\t\t...options\n\t\t});\n\t\tthis.lastHoverIndexOfPath = 0;\n\t\tthis._lastPathXdirection = false;\n\t\tthis._firstPathXdirection = false;\n\t}\n\n\tsetFirstAndLastPathsDirection() {\n\t\tlet points = this.getPoints();\n\t\tfor (let i = 1; i < points.length; i += points.length - 2) {\n\t\t\tlet dx = Math.abs(points[i].getX() - points[i - 1].getX());\n\t\t\tlet dy = Math.abs(points[i].getY() - points[i - 1].getY());\n\t\t\tif (i - 1 === 0) {\n\t\t\t\tthis._firstPathXdirection = dx > dy;\n\t\t\t} else {\n\t\t\t\tthis._lastPathXdirection = dx > dy;\n\t\t\t}\n\t\t}\n\t}\n\n\t// @ts-ignore\n\taddPoint<P extends PointModel>(pointModel: P, index: number = 1): P {\n\t\t// @ts-ignore\n\t\tsuper.addPoint(pointModel, index);\n\t\tthis.setFirstAndLastPathsDirection();\n\t\treturn pointModel;\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.setFirstAndLastPathsDirection();\n\t}\n\n\tsetManuallyFirstAndLastPathsDirection(first, last) {\n\t\tthis._firstPathXdirection = first;\n\t\tthis._lastPathXdirection = last;\n\t}\n\n\tgetLastPathXdirection(): boolean {\n\t\treturn this._lastPathXdirection;\n\t}\n\tgetFirstPathXdirection(): boolean {\n\t\treturn this._firstPathXdirection;\n\t}\n\n\tsetWidth(width: number) {\n\t\tthis.options.width = width;\n\t\tthis.fireEvent({ width }, 'widthChanged');\n\t}\n\n\tsetColor(color: string) {\n\t\tthis.options.color = color;\n\t\tthis.fireEvent({ color }, 'colorChanged');\n\t}\n}\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAiC,uCAAuC;AACjG,SAASC,qBAAqB,QAAQ,yBAAyB;AAI/D,OAAM,MAAOC,mBAAoB,SAAQF,gBAAgB;EAIxDG,YAAYC,OAAA,GAAmC,EAAE;IAChD,KAAK,CAAAC,MAAA,CAAAC,MAAA;MACJC,IAAI,EAAEN,qBAAqB,CAACO;IAAI,GAC7BJ,OAAO,EACT;IACF,IAAI,CAACK,oBAAoB,GAAG,CAAC;IAC7B,IAAI,CAACC,mBAAmB,GAAG,KAAK;IAChC,IAAI,CAACC,oBAAoB,GAAG,KAAK;EAClC;EAEAC,6BAA6BA,CAAA;IAC5B,IAAIC,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE;IAC7B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,MAAM,EAAED,CAAC,IAAIF,MAAM,CAACG,MAAM,GAAG,CAAC,EAAE;MAC1D,IAAIC,EAAE,GAAGC,IAAI,CAACC,GAAG,CAACN,MAAM,CAACE,CAAC,CAAC,CAACK,IAAI,EAAE,GAAGP,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,CAACK,IAAI,EAAE,CAAC;MAC1D,IAAIC,EAAE,GAAGH,IAAI,CAACC,GAAG,CAACN,MAAM,CAACE,CAAC,CAAC,CAACO,IAAI,EAAE,GAAGT,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,CAACO,IAAI,EAAE,CAAC;MAC1D,IAAIP,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;QAChB,IAAI,CAACJ,oBAAoB,GAAGM,EAAE,GAAGI,EAAE;OACnC,MAAM;QACN,IAAI,CAACX,mBAAmB,GAAGO,EAAE,GAAGI,EAAE;;;EAGrC;EAEA;EACAE,QAAQA,CAAuBC,UAAa,EAAEC,KAAA,GAAgB,CAAC;IAC9D;IACA,KAAK,CAACF,QAAQ,CAACC,UAAU,EAAEC,KAAK,CAAC;IACjC,IAAI,CAACb,6BAA6B,EAAE;IACpC,OAAOY,UAAU;EAClB;EAEAE,WAAWA,CAACC,KAA6B;IACxC,KAAK,CAACD,WAAW,CAACC,KAAK,CAAC;IACxB,IAAI,CAACf,6BAA6B,EAAE;EACrC;EAEAgB,qCAAqCA,CAACC,KAAK,EAAEC,IAAI;IAChD,IAAI,CAACnB,oBAAoB,GAAGkB,KAAK;IACjC,IAAI,CAACnB,mBAAmB,GAAGoB,IAAI;EAChC;EAEAC,qBAAqBA,CAAA;IACpB,OAAO,IAAI,CAACrB,mBAAmB;EAChC;EACAsB,sBAAsBA,CAAA;IACrB,OAAO,IAAI,CAACrB,oBAAoB;EACjC;EAEAsB,QAAQA,CAACC,KAAa;IACrB,IAAI,CAAC9B,OAAO,CAAC8B,KAAK,GAAGA,KAAK;IAC1B,IAAI,CAACC,SAAS,CAAC;MAAED;IAAK,CAAE,EAAE,cAAc,CAAC;EAC1C;EAEAE,QAAQA,CAACC,KAAa;IACrB,IAAI,CAACjC,OAAO,CAACiC,KAAK,GAAGA,KAAK;IAC1B,IAAI,CAACF,SAAS,CAAC;MAAEE;IAAK,CAAE,EAAE,cAAc,CAAC;EAC1C"},"metadata":{},"sourceType":"module","externalDependencies":[]}